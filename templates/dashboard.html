{% extends 'base.html' %}
{% block content %}

    <section class="py-4">
        <div class="container">
            <div class="row g-4">
    
                <div class="col-12">
                    <!-- Counter START -->
                    <div class="row g-4">
                        
                        <!-- Counter item -->
                        <div class="col-sm-6 col-lg-3">
                            <div class="card card-body border p-3">
                                <div class="d-flex align-items-center">
                                    <!-- Icon -->
                                    <div class="icon-xl fs-1 bg-success bg-opacity-10 rounded-3 text-success">
                                        <i class="bi bi-people-fill"></i>
                                    </div>
                                    <!-- Content -->
                                    <div class="ms-3">
                                        <h3>134K</h3>
                                        <h6 class="mb-0">Pageviews</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <!-- Counter item -->
                        <div class="col-sm-6 col-lg-3">
                            <div class="card card-body border p-3">
                                <div class="d-flex align-items-center">
                                    <!-- Icon -->
                                    <div class="icon-xl fs-1 bg-primary bg-opacity-10 rounded-3 text-primary">
                                        <i class="bi bi-file-earmark-text-fill"></i>
                                    </div>
                                    <!-- Content -->
                                    <div class="ms-3">
                                        <h3>{{ posts__count }}</h3>
                                        <h6 class="mb-0">Posts</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <!-- Counter item -->
                        <div class="col-sm-6 col-lg-3">
                            <div class="card card-body border p-3">
                                <div class="d-flex align-items-center">
                                    <!-- Icon -->
                                    <div class="icon-xl fs-1 bg-danger bg-opacity-10 rounded-3 text-danger">
                                        <i class="bi bi-suit-heart-fill"></i>
                                    </div>
                                    <!-- Content -->
                                    <div class="ms-3">
                                        <h3>2150</h3>
                                        <h6 class="mb-0">Likes</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <!-- Counter item -->
                        <div class="col-sm-6 col-lg-3">
                            <div class="card card-body border p-3">
                                <div class="d-flex align-items-center">
                                    <!-- Icon -->
                                    <div class="icon-xl fs-1 bg-info bg-opacity-10 rounded-3 text-info">
                                        <i class="bi bi-bar-chart-line-fill"></i>
                                    </div>
                                    <!-- Content -->
                                    <div class="ms-3">
                                        <h3>84K</h3>
                                        <h6 class="mb-0">Visitors</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                    </div>
                    <!-- Counter END -->
                </div>
    
                <div class="col-12">
                    <!-- Blog list table START -->
                    <div class="card border bg-transparent rounded-3">
                        <!-- Card header START -->
                        <div class="card-header bg-transparent border-bottom p-3">
                            <div class="d-sm-flex justify-content-between align-items-center">
                                <h5 class="mb-2 mb-sm-0">
                                    Blog list 
                                    <span class="badge bg-primary bg-opacity-10 text-primary">
                                        {{ posts__count }}
                                    </span>
                                </h5>
                                <a href="{% url 'blog:post_create' %}" class="btn btn-sm btn-primary mb-0">
                                    Add New
                                </a>
                            </div>
                        </div>
                        <!-- Card header END -->
    
                        <!-- Card body START -->
                        <div class="card-body">
                            
                            <div class="table-responsive border-0">
                                <table class="table align-middle p-4 mb-0 table-hover table-shrink">
                                    <!-- Table head -->
                                    <thead class="table-dark">
                                        <tr>
                                            <th scope="col" class="border-0 rounded-start">Blog Name</th>
                                            <th scope="col" class="border-0">Published Date</th>
                                            <th scope="col" class="border-0">Categories</th>
                                            <th scope="col" class="border-0 rounded-end">Action</th>
                                        </tr>
                                    </thead>
    
                                    <!-- Table body START -->
                                    <tbody class="border-top-0">
                                        {% for post in posts %}
                                        <tr>
                                            <!-- Table data -->
                                            <td>
                                                <h6 class="course-title mt-2 mt-md-0 mb-0">
                                                    <a href="#">
                                                        {{ post.name|truncatewords:8 }}
                                                    </a>
                                                </h6>
                                            </td>
                                            <!-- Table data -->
                                            <td>{{ post.created_at }}</td>
                                            <!-- Table data -->
                                            <td>
                                                <a href="#" class="badge text-bg-warning mb-2"><i class="fas fa-circle me-2 small fw-bold"></i>
                                                    {{ post.category }}
                                            </a>
                                            </td>
                                            <!-- Table data -->
                                            <td>
                                                <span class="badge bg-success bg-opacity-10 text-success mb-2">Live</span>
                                            </td>
                                            <!-- Table data -->
                                            <td>
                          <div class="d-flex gap-2">
                            <a href="{% url 'blog:post_delete' post.id %}" class="btn btn-light btn-round mb-0" data-bs-toggle="tooltip" data-bs-placement="top" aria-label="Delete" data-bs-original-title="Delete"><i class="bi bi-trash"></i></a>
                            <a href="{% url 'blog:post_update' post.id %}" class="btn btn-light btn-round mb-0" data-bs-toggle="tooltip" data-bs-placement="top" aria-label="Edit" data-bs-original-title="Edit"><i class="bi bi-pencil-square"></i></a>
                          </div>
                                            </td>
                                        </tr>
                                        {% endfor %}
    
    
                                    </tbody>
                                    <!-- Table body END -->
                                </table>
                            </div>
                            <!-- Blog list table END -->
    
                            {% if posts.has_other_pages %}
                            <div class="d-sm-flex justify-content-sm-between align-items-sm-center mt-4 mt-sm-3">
                                <!-- Content -->
                                <p class="mb-sm-0 text-center text-sm-start">Showing 1 to 8 of 20 entries</p>
                                <!-- Pagination -->
                                <nav class="mb-sm-0 d-flex justify-content-center" aria-label="navigation">
                                    <ul class="pagination">

                                        {% if posts.has_previous %}
                                        <li class="page-item">
                                            <a class="page-link" href="?page=1">Previous</a></li>
                                        {% else %}
                                        <li class="page-item disabled"></li>
                                        {% endif %}
                                
                                        {% for i in posts.paginator.page_range %}
                                        {% if posts.number == i %}
                                        <li class="page-item disabled">
                                            <a class="page-link">{{ i }}</a></li>
                                        {% else %}
                                        <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                                        {% endif %}
                                        {% endfor %}
                                    </ul>
                                </nav>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    <!-- Blog list table END -->
                </div>
            </div>
        </div>
    </section>
    <!-- =======================
    Main contain END -->
    
    </main>
    <!-- **************** MAIN CONTENT END **************** -->
    
    <!-- =======================
    Footer START -->
    <footer class="mb-3">
      <div class="container">
        <div class="card card-body bg-light">
          <div class="row align-items-center justify-content-between">
            <div class="col-lg-6">
              <!-- Copyright -->
              <div class="text-center text-lg-start">©2023 <a href="https://www.webestica.com/" class="text-reset btn-link" target="_blank">Webestica</a>. All rights reserved
              </div>
            </div>
            <div class="col-lg-6 d-sm-flex align-items-center justify-content-center justify-content-lg-end">
              <!-- Language switcher -->
              <div class="dropup me-0 me-sm-3 mt-3 mt-md-0 text-center text-sm-end">
                <a class="dropdown-toggle text-body" href="#" role="button" id="languageSwitcher" data-bs-toggle="dropdown" aria-expanded="false">
                  English Edition
                </a>
                <ul class="dropdown-menu min-w-auto" aria-labelledby="languageSwitcher">
                  <li><a class="dropdown-item" href="#">English</a></li>
                  <li><a class="dropdown-item" href="#">German </a></li>
                  <li><a class="dropdown-item" href="#">French</a></li>
                </ul>
              </div>
              <!-- Links -->
              <ul class="nav text-center text-sm-end justify-content-center justify-content-center mt-3 mt-md-0">
                <li class="nav-item"><a class="nav-link" href="#">Terms</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Privacy</a></li>
                <li class="nav-item"><a class="nav-link pe-0" href="#">Cookies</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- =======================
    Footer END -->
    
    <!-- Back to top -->
    <div class="back-top"><i class="bi bi-arrow-up-short"></i></div>
    
    <!-- =======================
    JS libraries, plugins and custom scripts -->
    
    <!-- Bootstrap JS -->
    <script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Vendors -->
    <script src="assets/vendor/apexcharts/js/apexcharts.min.js"></script>
    <script src="assets/vendor/overlay-scrollbar/js/OverlayScrollbars.min.js"></script>
    
    <!-- Template Functions -->
    <script src="assets/js/functions.js"></script>
    
    
    <svg id="SvgjsSvg1124" width="2" height="0" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" style="overflow: hidden; top: -100%; left: -100%; position: absolute; opacity: 0;"><defs id="SvgjsDefs1125"></defs><polyline id="SvgjsPolyline1126" points="0,0"></polyline><path id="SvgjsPath1127" d="M-1 252.7525L-1 252.7525C-1 252.7525 85.02982087568803 252.7525 85.02982087568803 252.7525C85.02982087568803 252.7525 170.05964175137606 252.7525 170.05964175137606 252.7525C170.05964175137606 252.7525 255.08946262706408 252.7525 255.08946262706408 252.7525C255.08946262706408 252.7525 340.1192835027521 252.7525 340.1192835027521 252.7525C340.1192835027521 252.7525 425.14910437844014 252.7525 425.14910437844014 252.7525C425.14910437844014 252.7525 510.17892525412816 252.7525 510.17892525412816 252.7525C510.17892525412816 252.7525 595.2087461298162 252.7525 595.2087461298162 252.7525C595.2087461298162 252.7525 680.2385670055043 252.7525 680.2385670055043 252.7525C680.2385670055043 252.7525 765.2683878811922 252.7525 765.2683878811922 252.7525C765.2683878811922 252.7525 850.2982087568803 252.7525 850.2982087568803 252.7525C850.2982087568803 252.7525 935.3280296325684 252.7525 935.3280296325684 252.7525C935.3280296325684 252.7525 935.3280296325684 252.7525 935.3280296325684 252.7525 "></path></svg></body>

{% endblock %}